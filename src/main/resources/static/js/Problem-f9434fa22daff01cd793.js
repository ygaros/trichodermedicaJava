(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{43:function(t,e,n){"use strict";const o={data:()=>({content:null}),methods:{fetchData(t){return t&&"string"==typeof t?this.$http({method:"get",url:t,headers:{"Content-Type":"application/json"}}).then(({data:t})=>{this.content=t}):Promise.reject("invalid url")}}};e.a=o},44:function(t,e,n){},47:function(t,e,n){"use strict";var o=n(44);n.n(o).a},49:function(t,e,n){},54:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.admin&&t.editMode?n("wysiwyg",{model:{value:t.copy,callback:function(e){t.copy=e},expression:"copy"}}):t._e(),t._v(" "),t.loggedIn&&t.editMode?t._e():n("div",{domProps:{innerHTML:t._s(t.value)}}),t._v(" "),t.admin?n("v-btn",{class:["mt-2",t.editMode?"error lighten-1":"primary"],on:{click:function(e){t.editMode?t.save():t.editMode=!0}}},[t._v(t._s(t.editMode?"Zapisz":"edytuj"))]):t._e()],1)};o._withStripped=!0;var i={props:["value"],data:()=>({editMode:!1,copy:null}),computed:{loggedIn(){return this.$store.getters["auth/loggedIn"]},admin(){return this.$store.getters["auth/getRole"]("ROLE_ADMIN")}},mounted(){this.copy=this.$props.value},watch:{copy(t,e){this.$emit("input",t)}},methods:{save(){this.$emit("save"),this.editMode=!1}}},a=(n(47),n(0)),s=Object(a.a)(i,o,[],!1,null,null,null);s.options.__file="client/src/components/app-editable-content.vue";e.a=s.exports},56:function(t,e,n){"use strict";var o=n(49);n.n(o).a},64:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.content?n("div",[n("h3",{domProps:{innerHTML:t._s(t.content.problem.name)}}),t._v(" "),n("app-editable-content",{on:{save:t.save},model:{value:t.content.problem.description,callback:function(e){t.$set(t.content.problem,"description",e)},expression:"content.problem.description"}})],1):t._e()};o._withStripped=!0;var i=n(43),a=n(54),s={mixins:[i.a],components:{appEditableContent:a.a},created(){this.fetchData(`/api/problem/${this.id}`).then(this.changeTitle).catch(t=>{})},computed:{title(){return this.content?this.content.problem.name:"Problem"},id(){return this.$route.params.id||1}},methods:{save(){this.$http({method:"post",url:"/api/admin/problem",headers:{"Content-type":"application/json"},data:this.content.problem}).catch(t=>console.error(t))}},beforeRouteUpdate(t,e,n){this.fetchData(`/api/problem/${t.params.id}`).then(this.changeTitle).then(n).catch(t=>{n(!1)})}},r=(n(56),n(0)),c=Object(r.a)(s,o,[],!1,null,null,null);c.options.__file="client/src/views/Problem.vue";e.default=c.exports}}]);